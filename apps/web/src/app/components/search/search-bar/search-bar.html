<div class="search-bar-container">
  <div class="search-bar">
    <!-- Search Input -->
    <div class="search-input-container">
      <div class="search-icon">
        <app-icon name="search" [size]="20" color="#6b7280"></app-icon>
      </div>
      
      <input 
        #searchInput
        type="text" 
        class="search-input"
        [placeholder]="placeholder"
        [(ngModel)]="searchQuery"
        (input)="onInputChange()"
        (keyup.enter)="onSearch()"
        (keyup.escape)="clearSearch()"
        [maxlength]="maxLength"
        [disabled]="isSearching"
        autocomplete="off">
      
      <button 
        *ngIf="searchQuery && !isSearching"
        class="clear-button"
        (click)="clearSearch()"
        type="button">
        <app-icon name="close" [size]="16" color="#9ca3af"></app-icon>
      </button>
    </div>

    <!-- Search/Stop Button -->
    <button 
      class="search-button"
      [class.searching]="isSearching"
      (click)="isSearching ? onStopSearch() : onSearch()"
      [disabled]="!searchQuery.trim() && !isSearching"
      type="button">
      <app-icon 
        [name]="isSearching ? 'stop' : 'send'" 
        [size]="18" 
        [color]="isSearching ? '#ef4444' : 'white'">
      </app-icon>
    </button>
  </div>

  <!-- Quick Actions -->
  <div class="quick-actions" *ngIf="!searchQuery && !isSearching">
    <button class="quick-action" (click)="onQuickAction('What is the latest news about AI?')">
      <app-icon name="trending-up" [size]="16" color="#6b7280"></app-icon>
      Latest AI news
    </button>
    
    <button class="quick-action" (click)="onQuickAction('How to learn TypeScript?')">
      <app-icon name="folder" [size]="16" color="#6b7280"></app-icon>
      Learn TypeScript
    </button>
    
    <button class="quick-action" (click)="onQuickAction('What is the weather today?')">
      <app-icon name="explore" [size]="16" color="#6b7280"></app-icon>
      Weather today
    </button>
  </div>
</div>
